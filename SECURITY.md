## Security Considerations
Our code is continuously scanned using [Checkov](https://www.checkov.io/5.Policy%20Index/kubernetes.html). The following security considerations are documented for transparency:

|Checks	|Details	|Reasons	|
|---	|---	|---	|
|CKV_TF_1	|Ensure Terraform module sources use a commit hash	|For easy experimentation, we set version of module, instead of setting a commit hash. Consider implementing a commit hash in a production cluster. [Read more on why we need to set commit hash for modules here.](https://medium.com/boostsecurity/erosion-of-trust-unmasking-supply-chain-vulnerabilities-in-the-terraform-registry-2af48a7eb2)	|
|CKV2_K8S_6	|Minimize the admission of pods which lack an associated NetworkPolicy	|All Pod to Pod communication is allowed by default for easy experimentation in this project. Amazon VPC CNI now supports [Kubernetes Network Policies](https://aws.amazon.com/blogs/containers/amazon-vpc-cni-now-supports-kubernetes-network-policies/) to secure network traffic in kubernetes clusters	|
|CKV_K8S_8	|Liveness Probe Should be Configured	|For easy experimentation, no health checks is to be performed against the container to determine whether it is alive or not. Consider implementing [health checks](https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-startup-probes/) in a production cluster.	|
|CKV_K8S_9	|Readiness Probe Should be Configured	|For easy experimentation, no health checks is to be performed against the container to determine whether it is alive or not. Consider implementing health checks in a production cluster.	|
|CKV_K8S_22	|Use read-only filesystem for containers where possible	|We've made an exception for the workloads that requires are Read/Write file system. [Configure your images with read-only root file system](https://docs.aws.amazon.com/eks/latest/best-practices/pod-security.html#_configure_your_images_with_read_only_root_file_system)	|
|CKV_K8S_23	|Minimize the admission of root containers	|This project uses default root container configurations for demonstration purposes. While this doesn't follow security best practices, it ensures compatibility with demo images. For production, configure runAsNonRoot: true and follow [guidance](https://docs.docker.com/engine/reference/builder/#user) on building images with specified user ID.  	|
|CKV_K8S_37	|Minimize the admission of containers with capabilities assigned	|For easy experimentation, we've made exception for the workloads that requires added capability. For production purposes, we recommend [capabilities field](https://docs.aws.amazon.com/eks/latest/best-practices/pod-security.html#_linux_capabilities) that allows granting certain privileges to a process without granting all the privileges of the root user.  	|
|CKV_K8S_40	|Containers should run as a high UID to avoid host conflict	|We've used publicly available container images in this project for customers' easy access. For test purposes, the container images user id are left intact. See [how to define UID](https://kubernetes.io/docs/tasks/configure-pod-container/security-context/#set-the-security-context-for-a-pod).	|

## Application Load Balancer Security Considerations

The following ALB-related security checks are documented for transparency:

|Checks	|Details	|Reasons	|
|---	|---	|---	|
|CKV_AWS_131	|Ensure that ALB drops HTTP headers	|For demo purposes, we are not configuring ALB to drop HTTP headers. This project uses the default HTTP setup that we get from ALB for easy experimentation. In production environments, consider configuring ALB to drop invalid HTTP headers to prevent header injection attacks.	|
|CKV2_AWS_20	|Ensure that ALB redirects HTTP requests into HTTPS one	|For demo purposes, we are not enforcing HTTPS redirects on the ALB. This project uses the default HTTP setup for simplicity and easy access during demonstrations. In production environments, implement HTTP to HTTPS redirects to ensure all traffic is encrypted in transit.	|
|CKV_AWS_103	|Ensure that load balancer is using at least TLS 1.2	|For demo purposes, we are not enforcing minimum TLS version requirements. This project uses the default ALB configuration without signed certificates for easy experimentation. In production environments, configure ALB to use TLS 1.2 or higher to ensure secure communication.	|
|CKV_AWS_2	|Ensure ALB protocol is HTTPS	|For demo purposes, we are not using signed certificates and are using the default HTTP setup that we get from ALB. This allows for easy access and testing without certificate management complexity. In production environments, configure ALB with proper SSL/TLS certificates and use HTTPS protocol for all traffic.	|
|CKV_AWS_150	|Ensure that Load Balancer has deletion protection enabled	|For demo purposes, we are not enabling deletion protection on the ALB to allow for easy teardown and cleanup of demo resources. This project prioritizes simple setup and destruction workflows for experimentation. In production environments, enable deletion protection to prevent accidental removal of critical load balancers.	|
|CKV_AWS_261	|Ensure HTTP HTTPS Target group defines Healthcheck	|For demo purposes, we are not configuring custom healthchecks on target groups to keep the setup simple and avoid additional configuration complexity. This project uses default ALB behavior for easy experimentation. In production environments, configure appropriate healthcheck paths and parameters to ensure traffic is only routed to healthy targets.	|
|CKV2_AWS_28	|Ensure public facing ALB are protected by WAF	|For demo purposes, we are not implementing AWS WAF protection on the ALB to avoid additional infrastructure complexity and costs. This project focuses on core functionality demonstration without advanced security layers. In production environments, implement AWS WAF with appropriate rules to protect against common web exploits and attacks.	|
|CKV_AWS_260	|Ensure no security groups allow ingress from 0.0.0.0:0 to port 80	|For demo purposes, we allow broad access via security groups since we cannot predict the CIDR blocks that users will be accessing the demo from. This project prioritizes accessibility for testing from various network locations. In production environments, restrict security group rules to specific known CIDR blocks or IP ranges.	|
|CKV_AWS_91	|Ensure the ELBv2 (Application/Network) has access logging enabled	|For demo purposes, we are not enabling ALB access logging to avoid additional S3 bucket setup, IAM permissions, and associated costs. This project keeps infrastructure minimal for easy experimentation. In production environments, enable access logging to monitor traffic patterns and troubleshoot issues.	|
